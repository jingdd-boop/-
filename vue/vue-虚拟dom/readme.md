1. 虚拟dom是用一个JS对象来描述一个dom节点
```html
<div class="a" id="b">我是内容</div>
```

使用js来描述：
```js
{
    tag: 'div', //元素标签
    attrs: { // 属性
        class:'a',
        id: 'b'
    },
    text:'我是内容',// 文本
    children:[], // 子元素
}
```

2. 为什么需要虚拟dom？
首先我们知道vue是数据驱动视图的，数据发生变化视图就要随之更新，再更新视图的时候就要操作dom，而操作真实dom是非常消耗性能的

`用js的计算性能来换取操作dom所消耗的性能`

虽然还是需要操作真实dom，但是我们可以尽可能少的操作dom。

那么如何取减少操作dom呢？

> 我们不要盲目的去更新视图，而是通过对比数据变化前后的状态，计算出视图中哪些地方需要更新，只更新需要更新的地方，而不需要更新的地方则不需关心，这样我们就可以尽可能少的操作DOM了。这也就是上面所说的用JS的计算性能来换取操作DOM的性能。


3. vue中的虚拟dom
在vue中通过VNode类，取实例化出不同类型的虚拟dom节点

VNode类中包含了描述一个真实DOM节点所需要的一系列属性，如tag表示节点的标签名，text表示节点中包含的文本，children表示该节点包含的子节点等。通过属性之间不同的搭配，就可以描述出各种类型的真实DOM节点。
4. VNode的类型

注释，文本，元素，组件，函数式组件，克隆


5. patch
以新的VNode为基准，改造旧的oldVNode使之成为跟新的VNode一样，这就是patch过程要干的事。

- 创建节点
新的vnode中没有的节点，就在旧的oldvnode中创建
- 删除节点
新的vnode中有的节点，就在旧的oldvnode中删除
- 更新节点
新的vnode和旧的oldvnode中都有的，就以新的vnode为基准，更新旧的oldnode


vnode中一共有六种类型的节点，但只有三种类型的节点能过被创建并插入到dom中

`元素节点 文本节点 注释节点`

## 创建节点
Vue在创建节点的时候会判断在新的VNode中有而旧的oldVNode中没有的这个节点是属于哪种类型的节点，从而调用不同的方法创建并插入到DOM中

## 删除节点
删除节点非常简单，只需在要删除节点的父元素上调用removeChild方法即可